[ {
  "uuid" : "6085c2f4-52e7-4b08-85b6-d6b2612b4cf5",
  "id" : 5394,
  "name" : "Scheduled visits",
  "color" : "#388e3c",
  "nested" : false,
  "count" : 1,
  "standardReportCardType" : "27020b32-c21b-43a4-81bd-7b88ad3a6ef0",
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "85ce7239-e8b5-4e57-b07d-66c18cee47b2",
  "id" : 5395,
  "name" : "Overdue visits",
  "color" : "#d32f2f",
  "nested" : false,
  "count" : 1,
  "standardReportCardType" : "9f88bee5-2ab9-4ac4-ae19-d07e9715bdb5",
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "a1673f8a-c394-4bcf-8b6f-63d83a5443e2",
  "id" : 5396,
  "name" : "Total",
  "color" : "#ffffff",
  "nested" : false,
  "count" : 1,
  "standardReportCardType" : "1fbcadf3-bf1a-439e-9e13-24adddfbf6c0",
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "f366f35a-5c4f-4ff7-b510-2dc9f5f88847",
  "id" : 5397,
  "name" : "Recent registrations",
  "color" : "#ffffff",
  "nested" : false,
  "count" : 1,
  "standardReportCardType" : "88a7514c-48c0-4d5d-a421-d074e43bb36c",
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "standardReportCardInputRecentDuration" : "{\"value\":\"1\",\"unit\":\"days\"}",
  "voided" : false
}, {
  "uuid" : "e1036b69-df46-4351-9916-10cd4cfcb6bd",
  "id" : 5398,
  "name" : "Recent enrolments",
  "color" : "#ffffff",
  "nested" : false,
  "count" : 1,
  "standardReportCardType" : "a5efc04c-317a-4823-a203-e62603454a65",
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "standardReportCardInputRecentDuration" : "{\"value\":\"1\",\"unit\":\"days\"}",
  "voided" : false
}, {
  "uuid" : "dd961ee1-9d4e-4ec9-99f0-99b36672be7c",
  "id" : 5399,
  "name" : "Recent visits",
  "color" : "#ffffff",
  "nested" : false,
  "count" : 1,
  "standardReportCardType" : "77b5b3fa-de35-4f24-996b-2842492ea6e0",
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "standardReportCardInputRecentDuration" : "{\"value\":\"1\",\"unit\":\"days\"}",
  "voided" : false
}, {
  "uuid" : "3acb255b-4d2e-46b4-8d2a-d397bf1e228d",
  "id" : 308,
  "name" : "Recently visited hospital",
  "query" : "'use strict';\n({params, imports}) => {\n   const query = () => params.db.objects('Individual')\n        .filtered(`encounters.encounterDateTime > $0 AND encounters.encounterType.name CONTAINS \"Hospital\" AND encounters.voided = false`, imports.moment().subtract(15, 'days').toDate());\n                    return {\n      primaryValue: query().length,\n      lineListFunction: query\n    }\n};",
  "description" : "",
  "color" : "#ff0000",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "ffc4c887-fc22-4876-852c-7e2825dd4ab4",
  "id" : 1398,
  "name" : "Grade III Childrens",
  "query" : "'use strict';\n({params, imports}) => {\n    const GradeIII= (enrolment) => {\n      let score = enrolment.findLatestObservationInEntireEnrolment('Weight for age Grade');\n      return !_.isNil(score) ? score.getValue() === 3 : false;\n    };\n    return params.db.objects('Individual')\n        .filtered(`SUBQUERY(enrolments, $enrolment, $enrolment.program.name = 'Child' and $enrolment.programExitDateTime = null and $enrolment.voided = false and SUBQUERY($enrolment.encounters, $encounter, $encounter.encounterType.name = 'Anthropometry Assessment' and $encounter.voided = false).@count > 0 and voided = false).@count > 0`)\n        .filter((individual) => individual.voided === false && _.some(individual.enrolments, enrolment => enrolment.program.name === 'Child' && GradeIII(enrolment)))\n};",
  "description" : "",
  "color" : "#ff0000",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "4dfbbf88-4084-47db-9bfe-ce8069e37489",
  "id" : 306,
  "name" : "Hospital Enrolments",
  "query" : "'use strict';\n({params, imports}) => {\n    return params.db.objects('Individual')\n        .filtered(`SUBQUERY(enrolments, $enrolment, SUBQUERY($enrolment.observations, $obs, $obs.concept != null).@count == 1 and voided = false).@count > 0 and voided = false`);\n};",
  "description" : "",
  "color" : "#0005ff",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "2a8c1bf2-82be-424c-a978-f468d6eb0c20",
  "id" : 307,
  "name" : "Recent program related visits",
  "query" : "'use strict';\n({params, imports}) => {\n   const query = () => params.db.objects('Individual')\n        .filtered(`SUBQUERY(enrolments, $enrolment, SUBQUERY($enrolment.encounters, $enc, $enc.encounterDateTime > $0 AND $enc.encounterType.name CONTAINS \"Hospital\").@count > 0 and voided = false).@count > 0 and voided = false`, imports.moment().subtract(15, 'days').toDate());\n            return {\n      primaryValue: query().length,\n      lineListFunction: query\n    }\n};",
  "description" : "",
  "color" : "#ff0000",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "c9c50575-0aa9-4f2d-b58a-225ecded9855",
  "id" : 1413,
  "name" : "Total Children went to Low to Higher grade",
  "query" : "'use strict';\n({params, imports}) => {\n    const lowtohigh= (enrolment) => {\n       const latestEncounter1 = _.chain(enrolment.getEncountersOfType('Anthropometry Assessment'))\n            .filter((e) => e.encounterDateTime)\n            .sortBy((e) => e.encounterDateTime, 'desc')\n            .nth(0)\n            .value();\n       console.log('latestEncounter1',latestEncounter1.getObservationReadableValue('Weight for age Grade'));\n       const latestEncounter2 = _.chain(enrolment.getEncountersOfType('Anthropometry Assessment'))\n            .filter((e) => e.encounterDateTime)\n            .sortBy((e) => e.encounterDateTime, 'desc')\n            .nth(1)\n            .value();\n            if(!_.isNil(latestEncounter1) && !_.isNil(latestEncounter2)){\n       const enc1Value = latestEncounter1.getObservationReadableValue('Weight for age Grade');\n       const enc2Value = latestEncounter2.getObservationReadableValue('Weight for age Grade');\n       return (enc1Value > enc2Value); \n       }\n       else          \n    return false;\n    \n    };\n    return params.db.objects('Individual')\n        .filtered(`SUBQUERY(enrolments, $enrolment, $enrolment.program.name = 'Child' and $enrolment.programExitDateTime = null and $enrolment.voided = false and SUBQUERY($enrolment.encounters, $encounter, $encounter.encounterType.name = 'Anthropometry Assessment' and $encounter.voided = false).@count > 0 and voided = false).@count > 0`)\n        .filter((individual) => individual.voided === false && _.some(individual.enrolments, enrolment => enrolment.program.name === 'Child' && lowtohigh(enrolment)))\n};\n",
  "description" : "",
  "color" : "#ff0000",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "204634c1-5d1e-4713-b1b4-b2aca3484b4c",
  "id" : 7597,
  "name" : "MH Assessment – Required",
  "query" : "'use strict';\n({ params, imports }) => {\n    const isMHRequired = (enrolment) => {\n        // Find the latest observation for SCD Mental Health Assessment\n        const mhObs = enrolment.findLatestObservationInEntireEnrolment('SCD Mental Health Assessment');\n        if (!mhObs) return false;\n\n        // Check if the answer is \"Required\" (by UUID)\n        return mhObs.getValue() === 'cfabfd76-1124-4520-a131-f5645b599cde';\n    };\n\n    return params.db.objects('Individual')\n        .filter(individual => \n            !individual.voided &&\n            _.some(individual.enrolments, enrolment => \n                !enrolment.voided &&\n                enrolment.program.name === 'Sickle Cell' &&\n                isMHRequired(enrolment)\n            )\n        );\n};\n",
  "description" : "SCD Mental Health Assessment – Required",
  "color" : "#ff0000",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
} ]