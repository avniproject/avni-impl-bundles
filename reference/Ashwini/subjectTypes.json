[ {
  "name" : "Individual",
  "uuid" : "9f2af1f9-e150-4f8e-aad3-40bb7eb05aa3",
  "active" : true,
  "type" : "Person",
  "subjectSummaryRule" : "({params, imports}) =>  {\n    const summaries = [];\n    const individual = params.individual;\n\n    // Fetching 'Death Registration' encounter\n    const encounter = _.find(individual.encounters, enc => enc.encounterType.name === 'Death Registration');\n    const dateofdeath = encounter && encounter.getObservationReadableValue('Date of Death');\n    console.log('dateofdeath----->', dateofdeath);\n    if (dateofdeath) {\n        summaries.push({name: 'Date of Death', value: dateofdeath});\n    }\n\n    // Fetching 'Place of death'\n    const placeofdeath = encounter && encounter.findObservation('Place of death');\n    console.log('placeofdeath------>', placeofdeath);\n    if (placeofdeath) {\n        const placeValue = placeofdeath.getValueWrapper() ? placeofdeath.getValueWrapper().getValue() : 'N/A';\n        summaries.push({name: 'Place of death', value: placeValue});\n    }\n\n    // Fetching 'Aadhar card number [HP]'\n    const bahmniRegistrationEncounter = _.find(individual.encounters, enc => enc.encounterType.name === 'Bahmni Patient Registration');\n    const aadhaar = bahmniRegistrationEncounter && bahmniRegistrationEncounter.getObservationReadableValue('Aadhar card number [HP]');\n    console.log('aadhaar----->', aadhaar);\n    if (aadhaar) {\n        summaries.push({name: 'Aadhaar Number', value: aadhaar});\n    }\n\n    // Fetching 'Lab Results (Hospital)' encounter\n    const encounter1 = _.find(individual.encounters, enc => enc.encounterType.name === 'Lab Results (Hospital)');\n    const hb = encounter1 && encounter1.getObservationReadableValue('Haemoglobin (blood) [H]');\n    \n    if (hb && !_.isEmpty(hb)) {\n        // If hb is an array, map through it and format\n        const value = Array.isArray(hb)\n            ? hb.map(({encounterDateTime, obs}) => (`${imports.moment(encounterDateTime).format(\"DD-MM-YYYY\")} : ${obs}`)).join(\", \")\n            : hb; // In case it's not an array, just use the value as is\n        summaries.push({name: \"Haemoglobin\", value: value});\n    }\n\n    return summaries;\n};",
  "allowEmptyLocation" : false,
  "allowMiddleName" : false,
  "lastNameOptional" : false,
  "allowProfilePicture" : true,
  "uniqueName" : false,
  "shouldSyncByLocation" : true,
  "settings" : {
    "displayRegistrationDetails" : true,
    "displayPlannedEncounters" : true
  },
  "household" : false,
  "group" : false,
  "directlyAssignable" : false,
  "voided" : false
} ]