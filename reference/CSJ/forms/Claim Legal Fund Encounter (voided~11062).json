{
  "name" : "Claim Legal Fund Encounter (voided~11062)",
  "uuid" : "3480a548-5fa4-4aeb-b9b5-475430cfc718",
  "formType" : "Encounter",
  "formElementGroups" : [ {
    "uuid" : "7ffc94fa-92f8-47df-9e46-83dd8f65477b",
    "name" : "Claim Legal Fund",
    "displayOrder" : 1.0,
    "formElements" : [ {
      "name" : "Claim Legal Fund",
      "uuid" : "50ebbaf1-f7cc-4f4d-8a8a-a1af824000e1",
      "keyValues" : [ {
        "key" : "repeatable",
        "value" : true
      } ],
      "concept" : {
        "name" : "LEGAL FUND ENCOUNTER",
        "uuid" : "22a96d47-8121-455b-b5e0-8fa7c5da1c4e",
        "dataType" : "QuestionGroup",
        "answers" : [ ],
        "active" : true,
        "media" : [ ]
      },
      "displayOrder" : 1.0,
      "type" : "SingleSelect",
      "mandatory" : false
    }, {
      "name" : "Date of Receipt",
      "uuid" : "2dd592e6-0be6-4895-befa-90901c0282d8",
      "keyValues" : [ {
        "key" : "datePickerMode",
        "value" : "calendar"
      } ],
      "concept" : {
        "name" : "Date of receipt - Legal Fund (voided~266436)",
        "uuid" : "d2869f1e-4e6c-4b5c-815d-1d96a08889cd",
        "dataType" : "Date",
        "answers" : [ ],
        "active" : true,
        "media" : [ ],
        "voided" : true
      },
      "displayOrder" : 2.0,
      "type" : "SingleSelect",
      "rule" : "'use strict';\n({params, imports}) => {\n  const encounter = params.entity;\n  const moment = imports.moment;\n  const formElement = params.formElement;\n  const _ = imports.lodash;\n  let visibility = true;\n  let value = null;\n  let answersToSkip = [];\n  let validationErrors = [];\n  const questionGroupIndex = params.questionGroupIndex;\n  let dateofReceipt = encounter.getObservationValue('22a96d47-8121-455b-b5e0-8fa7c5da1c4e');\n  \n  if(dateofReceipt && dateofReceipt.length > 0){\n\n    let currentQuestionGroup = dateofReceipt[questionGroupIndex]\n    let selectedDate = currentQuestionGroup.findObservationByConceptUUID('d2869f1e-4e6c-4b5c-815d-1d96a08889cd');\n\n    if(selectedDate) {\n      const currentDate = moment().startOf('day');\n      selectedDate = moment(selectedDate.getValue()).startOf('day');\n      if(selectedDate.isAfter(currentDate)){\n          validationErrors.push(\"Invalid date: Future dates are not allowed\");\n      }\n    } \n  }\n  \n  return new imports.rulesConfig.FormElementStatus(formElement.uuid, visibility, value, answersToSkip, validationErrors);\n};",
      "parentFormElementUuid" : "50ebbaf1-f7cc-4f4d-8a8a-a1af824000e1",
      "mandatory" : true
    } ],
    "display" : "Claim Legal Fund",
    "timed" : false
  } ],
  "decisionRule" : "",
  "visitScheduleRule" : "",
  "validationRule" : "",
  "checklistsRule" : "",
  "decisionConcepts" : [ ],
  "voided" : true
}