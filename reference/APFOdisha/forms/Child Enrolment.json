{
  "name" : "Child Enrolment",
  "uuid" : "4a35c83e-f7a0-4181-b839-7983923a914d",
  "formType" : "ProgramEnrolment",
  "formElementGroups" : [ {
    "uuid" : "d3160851-266f-4fed-8bf1-896e0b2e20a5",
    "name" : "Enrolment Details",
    "displayOrder" : 1.0,
    "formElements" : [ {
      "name" : "Place of birth",
      "uuid" : "742e8872-23e9-4367-a382-5f790639b9da",
      "keyValues" : [ ],
      "concept" : {
        "name" : "Place of birth",
        "uuid" : "c720943f-4091-47e2-bced-50a91fc453fe",
        "dataType" : "Coded",
        "answers" : [ {
          "name" : "Other",
          "uuid" : "f169230d-809b-4d06-9ccb-96586977bb68",
          "dataType" : "NA",
          "answers" : [ ],
          "order" : 2.0,
          "active" : true,
          "media" : [ ]
        }, {
          "name" : "Home",
          "uuid" : "b0a00c8b-b190-41a0-8b65-1afb0db00a81",
          "dataType" : "NA",
          "answers" : [ ],
          "order" : 0.0,
          "active" : true,
          "media" : [ ]
        }, {
          "name" : "Hospital",
          "uuid" : "b6b1a9cb-4b5f-42c7-b27c-39b9ab92107f",
          "dataType" : "NA",
          "answers" : [ ],
          "order" : 1.0,
          "active" : true,
          "media" : [ ]
        } ],
        "active" : true,
        "media" : [ ]
      },
      "displayOrder" : 1.0,
      "type" : "SingleSelect",
      "mandatory" : true
    }, {
      "name" : "Birth weight",
      "uuid" : "67be9f40-b74e-4b6c-9720-97f5e240cbed",
      "keyValues" : [ ],
      "concept" : {
        "name" : "Birth weight",
        "uuid" : "536f46bc-8beb-42d7-a7ed-2958b21a9021",
        "dataType" : "Numeric",
        "answers" : [ ],
        "lowAbsolute" : 0.5,
        "highAbsolute" : 15.0,
        "active" : true,
        "media" : [ ]
      },
      "displayOrder" : 2.0,
      "type" : "SingleSelect",
      "mandatory" : true
    }, {
      "name" : "Timely initiation of Breast feeding",
      "uuid" : "55c6aa1a-86c4-4bfd-b2a6-9577ba9b8927",
      "keyValues" : [ ],
      "concept" : {
        "name" : "Timely initiation of Breast feeding",
        "uuid" : "609ab1cc-0d5e-4e31-87b8-a8299c22c600",
        "dataType" : "Coded",
        "answers" : [ {
          "name" : "Yes",
          "uuid" : "8ebbf088-f292-483e-9084-7de919ce67b7",
          "dataType" : "NA",
          "answers" : [ ],
          "order" : 0.0,
          "active" : true,
          "media" : [ ]
        }, {
          "name" : "No",
          "uuid" : "a77bd700-1409-4d52-93bc-9fe32c0e169b",
          "dataType" : "NA",
          "answers" : [ ],
          "order" : 1.0,
          "active" : true,
          "media" : [ ]
        } ],
        "active" : true,
        "media" : [ ]
      },
      "displayOrder" : 3.0,
      "type" : "SingleSelect",
      "mandatory" : true
    }, {
      "name" : "Is the child exclusively breastfed till 6 months?",
      "uuid" : "2990dd14-88d8-4f44-b380-b8290f664337",
      "keyValues" : [ ],
      "concept" : {
        "name" : "Is the child exclusively breastfed til 6 months",
        "uuid" : "23e53b0d-2e6b-4a07-a57c-7d065ee017d5",
        "dataType" : "Coded",
        "answers" : [ {
          "name" : "Yes",
          "uuid" : "8ebbf088-f292-483e-9084-7de919ce67b7",
          "dataType" : "NA",
          "answers" : [ ],
          "order" : 0.0,
          "active" : true,
          "media" : [ ]
        }, {
          "name" : "No",
          "uuid" : "a77bd700-1409-4d52-93bc-9fe32c0e169b",
          "dataType" : "NA",
          "answers" : [ ],
          "order" : 1.0,
          "active" : true,
          "media" : [ ]
        } ],
        "active" : true,
        "media" : [ ]
      },
      "displayOrder" : 4.0,
      "type" : "SingleSelect",
      "rule" : "'use strict';\n({params, imports}) => {\n  const programEnrolment = params.entity;\n  const moment = imports.moment;\n  const formElement = params.formElement;\n  const _ = imports.lodash;\n  let visibility = true;\n  let value = null;\n  let answersToSkip = [];\n  let validationErrors = [];\n  \n  const condition11 = new imports.rulesConfig.RuleCondition({programEnrolment, formElement}).when.ageInMonths.greaterThanOrEqualTo(6).matches();\n  \n  visibility = condition11 ;\n  \n  return new imports.rulesConfig.FormElementStatus(formElement.uuid, visibility, value, answersToSkip, validationErrors);\n};",
      "declarativeRule" : [ {
        "actions" : [ {
          "actionType" : "showFormElement"
        } ],
        "conditions" : [ {
          "compoundRule" : {
            "rules" : [ {
              "lhs" : {
                "type" : "ageInMonths"
              },
              "rhs" : {
                "type" : "value",
                "value" : 6
              },
              "operator" : "greaterThanOrEqualTo"
            } ]
          }
        } ]
      } ],
      "mandatory" : true
    }, {
      "name" : "Is Annaprassan done for the child at 6 months?",
      "uuid" : "7ad0d433-3fc7-47e2-8b5e-47cb4397772d",
      "keyValues" : [ ],
      "concept" : {
        "name" : "Is Annaprassan done for the child at 6 months",
        "uuid" : "4ee74b7c-5685-446d-ba73-5496e159e1f4",
        "dataType" : "Coded",
        "answers" : [ {
          "name" : "Yes",
          "uuid" : "8ebbf088-f292-483e-9084-7de919ce67b7",
          "dataType" : "NA",
          "answers" : [ ],
          "order" : 0.0,
          "active" : true,
          "media" : [ ]
        }, {
          "name" : "No",
          "uuid" : "a77bd700-1409-4d52-93bc-9fe32c0e169b",
          "dataType" : "NA",
          "answers" : [ ],
          "order" : 1.0,
          "active" : true,
          "media" : [ ]
        } ],
        "active" : true,
        "media" : [ ]
      },
      "displayOrder" : 5.0,
      "type" : "SingleSelect",
      "rule" : "'use strict';\n({params, imports}) => {\n  const programEnrolment = params.entity;\n  const moment = imports.moment;\n  const formElement = params.formElement;\n  const _ = imports.lodash;\n  let visibility = true;\n  let value = null;\n  let answersToSkip = [];\n  let validationErrors = [];\n  \n  const condition11 = new imports.rulesConfig.RuleCondition({programEnrolment, formElement}).when.ageInMonths.greaterThanOrEqualTo(6).matches();\n  \n  visibility = condition11 ;\n  \n  return new imports.rulesConfig.FormElementStatus(formElement.uuid, visibility, value, answersToSkip, validationErrors);\n};",
      "declarativeRule" : [ {
        "actions" : [ {
          "actionType" : "showFormElement"
        } ],
        "conditions" : [ {
          "compoundRule" : {
            "rules" : [ {
              "lhs" : {
                "type" : "ageInMonths"
              },
              "rhs" : {
                "type" : "value",
                "value" : 6
              },
              "operator" : "greaterThanOrEqualTo"
            } ]
          }
        } ]
      } ],
      "mandatory" : true
    }, {
      "name" : "Is the child registered under poshan tracker?",
      "uuid" : "c2533488-eb3e-476c-a4a7-e3ae8fb1aa52",
      "keyValues" : [ ],
      "concept" : {
        "name" : "Is the child registered under poshan tracker?",
        "uuid" : "48fe0fb6-31b9-402f-9671-07554570ce81",
        "dataType" : "Coded",
        "answers" : [ {
          "name" : "No",
          "uuid" : "a77bd700-1409-4d52-93bc-9fe32c0e169b",
          "dataType" : "NA",
          "answers" : [ ],
          "order" : 1.0,
          "active" : true,
          "media" : [ ]
        }, {
          "name" : "Yes",
          "uuid" : "8ebbf088-f292-483e-9084-7de919ce67b7",
          "dataType" : "NA",
          "answers" : [ ],
          "order" : 0.0,
          "active" : true,
          "media" : [ ]
        } ],
        "active" : true,
        "media" : [ ]
      },
      "displayOrder" : 6.0,
      "type" : "SingleSelect",
      "mandatory" : true
    }, {
      "name" : "Is the child Breast feed til 2 years?",
      "uuid" : "86c70cc5-3ee6-4457-8e96-ac0184521a2a",
      "keyValues" : [ ],
      "concept" : {
        "name" : "Is the child Breast feed til 2 years",
        "uuid" : "7a01cfe5-9296-42a6-8585-c0e441206e5c",
        "dataType" : "Coded",
        "answers" : [ {
          "name" : "No",
          "uuid" : "a77bd700-1409-4d52-93bc-9fe32c0e169b",
          "dataType" : "NA",
          "answers" : [ ],
          "order" : 1.0,
          "active" : true,
          "media" : [ ]
        }, {
          "name" : "Yes",
          "uuid" : "8ebbf088-f292-483e-9084-7de919ce67b7",
          "dataType" : "NA",
          "answers" : [ ],
          "order" : 0.0,
          "active" : true,
          "media" : [ ]
        } ],
        "active" : true,
        "media" : [ ]
      },
      "displayOrder" : 7.0,
      "type" : "SingleSelect",
      "rule" : "'use strict';\n({params, imports}) => {\n  const programEnrolment = params.entity;\n  const moment = imports.moment;\n  const formElement = params.formElement;\n  const _ = imports.lodash;\n  let visibility = true;\n  let value = null;\n  let answersToSkip = [];\n  let validationErrors = [];\n  \n  const condition11 = new imports.rulesConfig.RuleCondition({programEnrolment, formElement}).when.ageInMonths.greaterThanOrEqualTo(24).matches();\n  \n  visibility = condition11 ;\n  \n  return new imports.rulesConfig.FormElementStatus(formElement.uuid, visibility, value, answersToSkip, validationErrors);\n};",
      "declarativeRule" : [ {
        "actions" : [ {
          "actionType" : "showFormElement"
        }, { } ],
        "conditions" : [ {
          "compoundRule" : {
            "rules" : [ {
              "lhs" : {
                "type" : "ageInMonths"
              },
              "rhs" : {
                "type" : "value",
                "value" : 24
              },
              "operator" : "greaterThanOrEqualTo"
            } ],
            "conjunction" : "or"
          }
        } ]
      } ],
      "mandatory" : true
    }, {
      "name" : "Is the child migrated?",
      "uuid" : "1b948d54-8a96-4ce8-97e1-aab10d52069c",
      "keyValues" : [ ],
      "concept" : {
        "name" : "Is the child migrated?",
        "uuid" : "46fb33ba-2d93-4674-932e-f3f644353abc",
        "dataType" : "Coded",
        "answers" : [ {
          "name" : "Yes",
          "uuid" : "8ebbf088-f292-483e-9084-7de919ce67b7",
          "dataType" : "NA",
          "answers" : [ ],
          "order" : 0.0,
          "active" : true,
          "media" : [ ]
        }, {
          "name" : "No",
          "uuid" : "a77bd700-1409-4d52-93bc-9fe32c0e169b",
          "dataType" : "NA",
          "answers" : [ ],
          "order" : 1.0,
          "active" : true,
          "media" : [ ]
        } ],
        "active" : true,
        "media" : [ ]
      },
      "displayOrder" : 8.0,
      "type" : "SingleSelect",
      "mandatory" : false
    } ],
    "display" : "Enrolment Details",
    "timed" : false
  } ],
  "decisionRule" : "//SAMPLE RULE EXAMPLE\n  \"use strict\";\n({params, imports}) => {\n    const programEnrolment = params.entity;\n    const decisions = params.decisions;\n    //create complicationBuilder using programEnrolment and then push to enrolmentDecisions array.\n    if (!programEnrolment.getObservationReadableValue('be0ab05f-b0f3-43ec-b598-fdde0679104a')) {\n      decisions.registrationDecisions.push({name : \"To be monitored by QRT\", value : \"No\"});\n      decisions.enrolmentDecisions.push({name : \"To be monitored by QRT\", value : \"No\"});\n    }\n    return decisions;\n};",
  "visitScheduleRule" : "//SAMPLE RULE EXAMPLE\n\"use strict\";\n({params, imports}) => {\n    const programEnrolment = params.entity;\n    const scheduleBuilder = new imports.rulesConfig.VisitScheduleBuilder({\n        programEnrolment\n    });\n    const moment = imports.moment;\t\t\n    const earliestDate = moment(programEnrolment.enrolmentDateTime).add(1, 'month').startOf('month').toDate();\n\n    if(programEnrolment.individual.getAgeInYears() < 5 && !programEnrolment.hasEncounter('Growth Monitoring', 'Growth Monitoring')) {\n        scheduleBuilder.add({\n            name: 'Growth Monitoring',\n            encounterType: 'Growth Monitoring',\n            earliestDate: earliestDate,\n            maxDate:  moment(earliestDate).endOf('month').toDate()\n        });\n    }\n\n    return scheduleBuilder.getAll();\n};",
  "validationRule" : "",
  "checklistsRule" : "'use strict';\n({params, imports}) => {\n  let vaccination = params.checklistDetails.find(cd => cd.name === 'Vaccination');\n  if (vaccination === undefined) return [];\n  \n\n  const vaccinationList = {\n    baseDate: params.entity.individual.dateOfBirth,\n    detail: {uuid: vaccination.uuid},\n    items: vaccination.items.map(vi => ({\n      detail: {uuid: vi.uuid}\n    }))\n  };\n\n  return [vaccinationList];\n  \n};\n",
  "decisionConcepts" : [ {
    "name" : "To be monitored by QRT",
    "uuid" : "be0ab05f-b0f3-43ec-b598-fdde0679104a",
    "dataType" : "Coded",
    "answers" : [ {
      "name" : "Yes",
      "uuid" : "8ebbf088-f292-483e-9084-7de919ce67b7",
      "dataType" : "NA",
      "answers" : [ ],
      "order" : 0.0,
      "active" : true,
      "media" : [ ]
    }, {
      "name" : "No",
      "uuid" : "a77bd700-1409-4d52-93bc-9fe32c0e169b",
      "dataType" : "NA",
      "answers" : [ ],
      "order" : 1.0,
      "active" : true,
      "media" : [ ]
    } ],
    "active" : true,
    "keyValues" : [ ],
    "media" : [ ]
  } ]
}