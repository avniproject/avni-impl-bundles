[ {
  "name" : "Demand",
  "uuid" : "360606c2-3514-4848-8e7e-8b5830325130",
  "active" : true,
  "type" : "Individual",
  "subjectSummaryRule" : "",
  "allowEmptyLocation" : false,
  "allowMiddleName" : false,
  "lastNameOptional" : false,
  "allowProfilePicture" : false,
  "uniqueName" : false,
  "shouldSyncByLocation" : true,
  "syncRegistrationConcept1" : "2978117c-a297-4171-99c6-23c3522ca0f8",
  "settings" : {
    "displayRegistrationDetails" : true,
    "displayPlannedEncounters" : true
  },
  "household" : false,
  "group" : false,
  "syncRegistrationConcept1Usable" : true,
  "directlyAssignable" : false,
  "voided" : false
}, {
  "name" : "Distribution",
  "uuid" : "461abfde-8767-41f3-993e-b68599999f07",
  "active" : true,
  "type" : "Individual",
  "subjectSummaryRule" : "//SAMPLE RULE EXAMPLE\n'use strict';\n({params, imports}) =>  {\n  const {summaries, individual} = params;\n  console.log(\"summary\", individual);\n  //if(true){\n  //summaries.push({name: CONCEPT_NAME, value: someValue})\n  //}\n  return summaries;\n};",
  "programEligibilityCheckRule" : "",
  "allowEmptyLocation" : false,
  "allowMiddleName" : false,
  "lastNameOptional" : false,
  "allowProfilePicture" : false,
  "uniqueName" : false,
  "shouldSyncByLocation" : true,
  "syncRegistrationConcept1" : "2978117c-a297-4171-99c6-23c3522ca0f8",
  "settings" : {
    "displayRegistrationDetails" : true,
    "displayPlannedEncounters" : true
  },
  "household" : false,
  "group" : false,
  "syncRegistrationConcept1Usable" : true,
  "directlyAssignable" : false,
  "voided" : false
}, {
  "name" : "Dispatch",
  "uuid" : "bc0a4ae3-77b3-4620-81c4-2d02d1c62280",
  "active" : true,
  "type" : "Individual",
  "subjectSummaryRule" : "'use strict';\n({params, imports}) =>  {\n  const {summaries, individual} = params;\n    summaries.push({\n      name: \"Dispatch Status Id\",\n      value: individual.getObservationValue('132868ab-811a-401e-9fd3-7c87f5512436')\n    });\n    console.log(summaries);\n    return summaries;\n};",
  "programEligibilityCheckRule" : "",
  "allowEmptyLocation" : false,
  "allowMiddleName" : false,
  "lastNameOptional" : false,
  "allowProfilePicture" : false,
  "uniqueName" : false,
  "shouldSyncByLocation" : true,
  "syncRegistrationConcept1" : "2978117c-a297-4171-99c6-23c3522ca0f8",
  "settings" : {
    "displayRegistrationDetails" : true,
    "displayPlannedEncounters" : true
  },
  "household" : false,
  "group" : false,
  "syncRegistrationConcept1Usable" : true,
  "directlyAssignable" : false,
  "voided" : false
}, {
  "name" : "Activity",
  "uuid" : "07d0e5b8-0dad-4469-9623-10278261f829",
  "active" : true,
  "type" : "Individual",
  "subjectSummaryRule" : "",
  "programEligibilityCheckRule" : "",
  "allowEmptyLocation" : false,
  "allowMiddleName" : false,
  "lastNameOptional" : false,
  "allowProfilePicture" : false,
  "uniqueName" : false,
  "shouldSyncByLocation" : true,
  "syncRegistrationConcept1" : "2978117c-a297-4171-99c6-23c3522ca0f8",
  "settings" : {
    "displayRegistrationDetails" : true,
    "displayPlannedEncounters" : true
  },
  "household" : false,
  "group" : false,
  "syncRegistrationConcept1Usable" : true,
  "directlyAssignable" : false,
  "voided" : false
}, {
  "name" : "Inventory Item",
  "uuid" : "07df088a-7924-461d-9a9b-24a29d43813b",
  "active" : true,
  "type" : "Individual",
  "subjectSummaryRule" : "",
  "programEligibilityCheckRule" : "",
  "allowEmptyLocation" : false,
  "allowMiddleName" : false,
  "lastNameOptional" : false,
  "allowProfilePicture" : false,
  "uniqueName" : false,
  "shouldSyncByLocation" : true,
  "syncRegistrationConcept1" : "41de93e4-daaf-4207-bf70-b32939d09ea5",
  "settings" : {
    "displayRegistrationDetails" : true,
    "displayPlannedEncounters" : true
  },
  "household" : false,
  "group" : false,
  "syncRegistrationConcept1Usable" : true,
  "directlyAssignable" : false,
  "voided" : false
}, {
  "name" : "Village",
  "uuid" : "c781319c-e47f-49f1-9ed7-7c85cd2bd16a",
  "active" : true,
  "type" : "Group",
  "subjectSummaryRule" : "",
  "programEligibilityCheckRule" : "",
  "memberAdditionEligibilityCheckRule" : "\"use strict\";\n\n({params, imports}) => {\n    const member = params.member;\n    const group = params.group;\n    \n    if (!member || !group) {\n        return {\n            eligible: {\n                value: false,\n                message: \"Member or group information is missing\"\n            }\n        };\n    }\n\n    const memberAddress = member.lowestAddressLevel;\n    const groupAddress = group.lowestAddressLevel;\n\n    if (!memberAddress || !groupAddress) {\n        return {\n            eligible: {\n                value: false,\n                message: \"Address information is missing for either member or group\"\n            }\n        };\n    }\n\n    // Check if either address is \"Other\"\n    const isMemberOther = memberAddress && memberAddress.name === 'Other';\n    const isGroupOther = groupAddress && groupAddress.name === 'Other';\n\n    // If neither is \"Other\", compare UUIDs\n    if (!isMemberOther && !isGroupOther) {\n        if (memberAddress.uuid !== groupAddress.uuid) {\n            return {\n                eligible: {\n                    value: false,\n                    message: \"Address levels do not match\"\n                }\n            };\n        }\n        return { eligible: { value: true } };\n    }\n\n    // Handle cases where at least one address is \"Other\"\n    const getBlockFromAddress = (address) => {\n        if (!address) return undefined;\n        \n        // Check locationMappings path\n        if (address.locationMappings && \n            Array.isArray(address.locationMappings) && \n            address.locationMappings[0] && \n            address.locationMappings[0].parent && \n            address.locationMappings[0].parent.name) {\n            return address.locationMappings[0].parent.name;\n        }\n        \n        // Fallback to titleLineage\n        if (address.titleLineage) {\n            const titleParts = address.titleLineage.split(', ');\n            return titleParts.length > 2 ? titleParts[2] : undefined;\n        }\n        \n        return undefined;\n    };\n\n    const getActualAddress = (entity, address) => {\n        if (!entity || !address) return address;\n        \n        if (address.name === 'Other') {\n            const otherVillageUuid = \"16b4db7c-e0a8-41f1-ac67-07470a762d9f\";\n            const observationValue = entity.getObservationValue ? entity.getObservationValue(otherVillageUuid) : null;\n            const observationReadable = entity.getObservationReadableValue ? entity.getObservationReadableValue(otherVillageUuid) : null;\n            \n            return {\n                name: observationReadable || address.name,\n                uuid: observationValue || address.uuid,\n                locationMappings: address.locationMappings,\n                titleLineage: address.titleLineage\n            };\n        }\n        return address;\n    };\n\n    const actualMemberAddress = getActualAddress(member, memberAddress);\n    const actualGroupAddress = getActualAddress(group, groupAddress);\n\n    // Compare villages\n    if (!actualMemberAddress || !actualGroupAddress || !actualMemberAddress.name || !actualGroupAddress.name) {\n        return {\n            eligible: {\n                value: false,\n                message: \"Missing village information for comparison\"\n            }\n        };\n    }\n\n    if (actualMemberAddress.name !== actualGroupAddress.name) {\n        return {\n            eligible: {\n                value: false,\n                message: `Village mismatch: ${actualMemberAddress.name} vs ${actualGroupAddress.name}`\n            }\n        };\n    }\n\n    // Compare blocks if available\n    const memberBlock = getBlockFromAddress(actualMemberAddress);\n    const groupBlock = getBlockFromAddress(actualGroupAddress);\n    \n    if (memberBlock && groupBlock && memberBlock !== groupBlock) {\n        return {\n            eligible: {\n                value: false,\n                message: `Block mismatch: ${memberBlock} vs ${groupBlock}`\n            }\n        };\n    }\n\n    return { eligible: { value: true } };\n};",
  "allowEmptyLocation" : false,
  "allowMiddleName" : false,
  "lastNameOptional" : false,
  "allowProfilePicture" : false,
  "uniqueName" : false,
  "shouldSyncByLocation" : true,
  "settings" : {
    "displayRegistrationDetails" : true,
    "displayPlannedEncounters" : true
  },
  "household" : false,
  "group" : true,
  "syncRegistrationConcept1Usable" : false,
  "directlyAssignable" : false,
  "voided" : false
} ]